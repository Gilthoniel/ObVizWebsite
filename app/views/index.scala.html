@(webpage: WebPage, headline: HeadLine)

@main(webpage) {

    @* Video *@
    @if(webpage.getParam("home-video") != "true"){
        <div id="home-intro" style="display: none;">
            <iframe width="640" height="360" src="https://www.youtube.com/embed/PCahcqUqv3A?rel=0&amp;showinfo=0"
            frameborder="0" allowfullscreen></iframe>
        </div>
    } else {
        <div id="home-intro">
            <iframe width="640" height="360" src="https://www.youtube.com/embed/PCahcqUqv3A?rel=0&amp;showinfo=0&amp;autoplay=1"
            frameborder="0" allowfullscreen></iframe>
        </div>
    }

    <div id="replay-button">
        <div class="background"></div>
        <img src="@routes.Assets.versioned("images/replay.png")" alt="" />
        Replay the video
    </div>

    <div id="home-search-bar">
        <div>
            <p>
                <img class="quote-up" src="@routes.Assets.versioned("images/quote_up.png")" alt="" />
                <img class="quote-down" src="@routes.Assets.versioned("images/quote_down.png")" alt="" />

                Search and discover applications of the Google Play Store
            </p>

            <form method="POST" action="@routes.Application.postSearch()">
                <div class="wrapper-input">
                    <input type="text" name="query" placeholder="Search for apps..." />
                    <button type="submit"><span class="glyphicon glyphicon-arrow-right"></span></button>
                </div>
            </form>
        </div>
    </div>

    @defining(headline.getApps.head) { app =>
        <div id="home-tip">
            <div id="headline-container">
                <div class="block-title"></div>

                <div class="row">
                    <div class="col-xs-12 col-sm-5">
                        <h5>
                            <a href="@routes.Application.details(app.getAppID)">
                                <img height="60" src="@app.getImage" alt="Logo" />
                                @headline.getTitle
                            </a>
                        </h5>
                        <p>
                        @app.getDescription
                        </p>
                    </div>
                    <div class="col-xs-12 col-sm-3">
                    @if(headline.getTopicID != null) {
                        <div data-value="@app.getOpinion(headline.getTopicID).percentage()"
                            data-title="@{ 100 - app.getOpinion(headline.getTopicID).percentage() }% negative opinions" class="chart-gauge"></div>
                    } else {
                        <div data-value="@app.getGlobalOpinion" data-title="Global" class="chart-gauge"></div>
                    }
                    </div>
                    <div class="col-xs-12 col-sm-4 headline-alternatives">
                        <h5><strong>Better</strong> alternatives</h5>
                        <ul data-url="@routes.AJAX.getAlternativesHeadline()" data-id="@app.getAppID" data-topic="@headline.getTopicID">
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    }

    <div id="trending" data-url="@routes.AJAX.getTrending">

        @* Trend Apps *@
        <div class="page-header">
            @templates.categories(webpage, "trends")

            <h1>Explore most trending apps</h1>
            @* Loading icon *@
            <div class="icon-loader">
            @views.html.templates.loading()
            </div>
        </div>

        <div class="row results-container">

        </div>
    </div>

    <script type="text/javascript" src="@routes.Assets.versioned("javascripts/video.js")"></script>
    <script type="text/javascript">
        videojs.options.flash.swf = '@routes.Assets.versioned("video-js.swf")';
    </script>
    <script type="text/javascript" src="@routes.Assets.versioned("javascripts/pages/index.js")"></script>
}
