@(webpage: WebPage, app: AndroidApp, titles: java.util.Map[Integer, String],
        related: java.util.List[AndroidApp])

@main(webpage) {

    @* Information about the application *@
    <div class="row" id="app-description">
        <div class="col-md-6">
            <h1><img height="40" src="@app.getImage" alt="" /> @app.getName</h1>

            <ul class="information">
                <li>
                    <h4>Rating</h4>
                    @for(i <- 1 to app.getScore) {
                        <img height="15" src="@routes.Assets.versioned("images/icons/star.png")" alt="" />
                    }
                </li>
                <li>
                    <h4>Version</h4>
                    @app.getMinOS
                </li>
                <li>
                    <h4>Publication</h4>
                    @app.getPublicationDate
                </li>
                <li>
                    <h4>Category</h4>
                    @app.getCategory.getTitle
                </li>
                <li>
                    <h4>Installations</h4>
                    @app.getInstallations
                </li>
                <li>
                    <h4>Developer</h4>
                    @app.getDeveloper
                </li>
            </ul>

            <hr />

            <p>
                @app.getDescription
            </p>
        </div>

        <div class="col-md-6">
            <div class="slick-screenshots">
                @for(screenshot <- app.getScreenshots.take(10)) {
                    <div><img src="@screenshot" alt="" /></div>
                }
            </div>
        </div>
    </div>

    <h2>Alternatives <small>Click to compare</small></h2>
    <div id="alternatives">
        <div class="slick-alternatives">
            @for(alternative <- related) {
                <div>
                    <div class="alternative-body" data-id="@alternative.getAppID">
                        <div class="header" style="background-image: url('@alternative.getRandomScreen(400)')">
                            <div class="sub-header">
                                <table>
                                    <tr>
                                        <td class="logo"><img src="@alternative.getImage" alt="" /></td>
                                        <td>@alternative.getName</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

    <h2>Opinions of the crowd</h2>
    <div class="row" id="details-aspects">
        @* Global gauge *@
        <div class=" col-xs-12 col-md-4">
            <div id="global-gauge" data-title="Global" data-value="@app.getGlobalOpinion" class="chart-gauge"></div>
        </div>

        @* List of all the topics *@
        <div class="col-xs-12 col-md-8 list-aspects">
            @for(opinionValue <- app.getMostImportantTopics.take(8)) {
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="opinion-box" data-topic="@opinionValue.getTopicID">
                        <div id="gauge-@opinionValue.getTopicID" data-title="@titles.get(opinionValue.getTopicID)"
                                data-value="@opinionValue.percentage()" class="chart-gauge"></div>
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="row" id="details-reviews" data-url="@routes.AJAX.getReviews()">

        @* List of the reviews of the application *@
        <div class="col-xs-12">
            <div id="base-container">
                <div class="loading-message">
                    <img src="@routes.Assets.versioned("images/loading.png")" alt="" />
                    reviews are loading ...
                </div>

                @for(id <- titles.keySet()) {
                    <div class="topic-container" data-topic="@id" style="display: none;">

                    </div>
                }
            </div>

            <div id="comparison-container" style="display: none;">
                <div class="col-xs-6 current">
                    <div class="loading-message">
                        <img src="@routes.Assets.versioned("images/loading.png")" alt="" />
                        reviews are loading ...
                    </div>

                    @for(id <- titles.keySet()) {
                        <div class="topic-container" data-topic="@id" style="display: none;">

                        </div>
                    }
                </div>
                <div class="col-xs-6 compared">
                    <div class="loading-message">
                        <img src="@routes.Assets.versioned("images/loading.png")" alt="" />
                        reviews are loading ...
                    </div>

                    @for(id <- titles.keySet()) {
                        <div class="topic-container" data-topic="@id" style="display: none;">

                        </div>
                    }
                </div>
            </div>
        </div>
    </div>

    <div id="data" style="display:none;">
        <div data-id="@app.getAppID" data-main="true">
            @for((id, topic) <- app.getMappedOpinions) {
                <div data-topic="@id" data-value="@topic.percentage" ></div>
            }
        </div>

        @for(application <- related) {
            <div data-id="@application.getAppID">
                @for((id, topic) <- application.getMappedOpinions) {
                    <div data-topic="@id" data-value="@topic.percentage" ></div>
                }
            </div>
        }
    </div>

    <script type="text/javascript" src="@routes.Assets.versioned("javascripts/pages/details.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("amcharts/amcharts.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("amcharts/gauge.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("amcharts/themes/light.js")"></script>
}